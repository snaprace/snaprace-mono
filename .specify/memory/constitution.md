<!--
동기화 영향 보고서:
버전 변경: 0.0.0 → 1.0.0
수정된 원칙: N/A (초기 헌법)
추가된 섹션: 모든 섹션 (초기 헌법)
제거된 섹션: N/A
업데이트 필요 템플릿: 모든 템플릿 생성 완료 (✅ 완료)
후속 TODO: 모든 템플릿 생성 완료, 일관성 검증 통과
생성된 파일:
- .specify/templates/spec-template.md (기능 명세서 템플릿)
- .specify/templates/plan-template.md (구현 계획 템플릿)
- .specify/templates/tasks-template.md (작업 관리 템플릿)
- .specify/templates/commands/speckit.constitution.md (헌법 명령어 템플릿)
-->

# SnapRace 프로젝트 헌법

**버전:** 1.0.0
**제정일:** 2025-10-30
**최종 수정일:** 2025-10-30

## 프로젝트 개요

SnapRace는 러닝 이벤트 이미지 및 결과 서비스로, 참가자들에게 개인 갤러리와 레이스 데이터 시각화를 제공합니다. 핵심 기능은 셀카 검색 기능을 통해 사용자가 자신의 사진을 찾을 수 있게 하는 것입니다. 이 모노레포는 기존 웹 구현을 통합된 확장 가능한 아키텍처로 마이그레이션하는 것을 목표로 합니다.

## 엔지니어링 철학

이 프로젝트는 일론 머스크의 5단계 엔지니어링 원칙을 기반 개발 철학으로 따릅니다:

1. **요구사항 질문:** 설계 요구사항을 집요하게 검증
2. **불필요한 것 제거:** 필수적이지 않은 구성요소와 프로세스 제거
3. **단순화 및 최적화:** 최적화 전에 단순화
4. **생산 가속화:** 적절한 검증 후에만 속도 향상
5. **자동화:** 근본적인 문제 해결 후에만 자동화

## 핵심 원칙

### 1. 요구사항 검증 (Question Requirements)

모든 요구사항, 설계 결정, 기능은 근본적인 진실에 대해 집요하게 질문하고 검증받아야 합니다. 똑똑한 사람들의 초기 가정은 더욱 집중적인 검토가 필요합니다.

**실행 규칙:**
- 모든 새 기능은 "왜 이것이 존재하는가"에 대한 정당성 포함해야 함
- 기술적 결정은 최소 2명의 팀원으로부터 검증받아야 함
- 요구사항은 사용자 가치나 비즈니스 필요성과 연결되어야 함
- 복잡한 해결책은 구현 전에 단순화해야 함
- "우리는 항상 이렇게 해왔다"는 절대 유효한 정당성이 될 수 없음

**근거:** 잘못된 것을 구축하는 것을 방지하고 모든 코드 라인이 검증된 목적을 수행하도록 보장

### 2. 불필요한 것 제거 (Eliminate Unnecessary)

불필요한 부분, 기능, 프로세스를 적극적으로 제거합니다. 제거가 추가보다 더 중요합니다. 복잡성은 신뢰성과 유지보수성의 적입니다.

**실행 규칙:**
- 월간 기능 및 의존성 제거 후보 감사
- "만약을 위해" 코드나 기능 없음
- 100% 작동하는 복잡한 해결책보다 80% 작동하는 단순한 해결책 선호
- 각 의존성은 존재 이유를 정당화해야 함
- 죽은 코드는 "나중에"가 아니라 즉시 제거해야 함

**근거:** 더 단순한 시스템이 더 빠르고, 더 신뢰성 있으며, 유지보수가 쉽습니다.

### 3. 단순화 및 최적화 (Simplify & Optimize)

최적화보다 단순화에 집중합니다. 처음부터 존재해서는 안 되는 것을 최적화하지 마세요.

**실행 규칙:**
- 기술적으로 정교한 해결책보다 항상 더 단순한 해결책 선호
- 성능 최적화는 명시적 정당성과 측정이 필요
- 코드는 주니어 개발자가 읽을 수 있어야 함
- 조기 최적화과 과잉 엔지니어링 피하기
- 최대 순환 복잡도: 함수당 10

**근거:** 단순한 시스템은 이해, 디버깅, 발전이 더 쉽습니다.

### 4. 생산 가속화 (Accelerate Production)

처음 세 원칙이 적절히 검증된 후에만 개발 속도를 향상시킵니다. 정확성 없는 속도는 낭비를 만듭니다.

**실행 규칙:**
- 속도 최적화는 요구사항 검증, 제거, 단순화 후에 발생
- 품질을 저해하지 않으면서 속도를 높이는 도구와 프로세스 사용
- 반복적인 작업 자동화지만 중요한 결정에 대한 인간 감독 유지
- 빠른 반복은 장려되지만 기술 부채를 희생해서는 안 됨
- 속도 향상 측정하고 버그 증가하지 않음을 검증

**근거:** 올바른 것을 빠르게 구축하는지, 잘못된 것을 더 빠르게 구축하는지 확인

### 5. 자동화 (Automate)

자동화는 마지막 단계여야 하며, 필수적인 문제가 해결된 후에만 도입되어야 합니다. 조기 자동화는 생산 지옥으로 이어집니다.

**실행 규칙:**
- 수동 프로세스는 자동화 전에 안정적이어야 함
- 자동화 스크립트는 대체하는 수동 프로세스보다 더 단순해야 함
- 중요 경로는 수동 재정의 기능이 있어야 함
- 자동화 효과 모니터링하고 필요시 수동으로 되돌릴 준비
- 프로덕션 배포 전에 자동화 철저히 테스트

**근거:** 자동화는 효율성을 증폭시켜야 하지, 새로운 문제를 만들어서는 안 됩니다.

## 기술 표준

### 코드 품질
- **언어:** TypeScript (strict mode)
- **프레임워크:** 웹 애플리케이션용 Next.js
- **스타일링:** CSS Modules 또는 Tailwind CSS (프로젝트 전반 일관성)
- **테스팅:** Jest + React Testing Library (최소 80% 커버리지)
- **린팅:** ESLint + Prettier (pre-commit hooks 포함)

### 아키텍처
- **모노레포:** Turborepo 빌드 오케스트레이션
- **패키지 관리자:** pnpm (strict 의존성 관리)
- **상태 관리:** 최소화, 로컬 상태 우선; 글로벌 상태는 필수시만
- **API 설계:** RESTful 원칙 (OpenAPI 문서화)
- **데이터베이스:** 스키마 우선 설계 (마이그레이션 포함)

### 성능
- **Core Web Vitals:** 모든 페이지가 "Good" 임계값 충족
- **번들 크기:** JavaScript 번들 250KB 미만 (gzip 압축)
- **이미지 최적화:** WebP 형식 (반응형 로딩)
- **캐싱:** CDN, 브라우저, API 레벨 전략적 캐싱

## 거버넌스

### 수정 절차
1. **제안:** 모든 팀원이 헌법 변경 제안 가능
2. **검토:** 최소 3일간의 팀 피드백 검토 기간
3. **승인:** 채택을 위한 2/3 다수결 투표 필요
4. **구현:** 시행 전 30일 유예 기간

### 버전 관리 정책
- **메이저 (X.0.0):** 하위 호환되지 않는 변경, 원칙 제거/재정의
- **마이너 (X.Y.0):** 새 원칙, 중요한 지침 확장
- **패치 (X.Y.Z):** 명확화, 표현 개선, 비의미적 개선

### 준수 검토
- **월간:** 자동화된 준수 검사
- **분기별:** 수동 헌법 검토 및 효과성 평가
- **연간:** 전체 거버넌스 프로세스 평가

### 시행
- **코드 리뷰:** PR 리뷰 시 헌법 준수 검사
- **자동화된 검사:** 기술 표준을 위한 pre-commit hooks
- **팀 교육:** 분기별 헌법 리프레시 세션
- **예외:** 정당성과 타임라인과 함께 문서화해야 함

## 범위와 제약

### 포함 범위
- 러닝 이벤트 사진 갤러리 및 검색 기능
- 참가자 레이스 데이터 시각화 및 분석
- 셀카 기반 사진 검색 및 매칭
- 사용자 인증 및 프로필 관리
- 이벤트 관리 및 조직 도구

### 제외 범위
- 소셜 미디어 통합 (핵심 기능 직접 서비스 시 제외)
- 기본 레이스 메트릭 외 고급 분석
- 제3자 결제 처리
- 실시간 채팅 또는 메시징 기능
- 모바일 애플리케이션 (별도 저장소)

## 성공 지표

### 기술적 지표
- 코드 커버리지: >80%
- 빌드 시간: 전체 모노레포 <2분
- 번들 크기: 애플리케이션당 <250KB gzip 압축
- 페이지 로드 시간: 초기 <2초, 후속 <1초

### 사용자 경험 지표
- 사진 검색 정확도: >95%
- 페이지 로드 성능: Core Web Vitals "Good" 등급
- 사용자 만족도: >4.5/5 등급
- 기능 도입률: 핵심 기능 >70%

## 의사결정 프레임워크

### 기술적 결정
1. **요구사항 질문:** 이것이 정말 필요한가?
2. **대안 제거:** 없이 할 수 있는가?
3. **단순화:** 가장 단순한 해결책은?
4. **검증:** 사용자 필요를 충족하는가?
5. **자동화:** 이 프로세스를 자동화할 수 있는가?

### 기능 우선순위화
1. 사용자 가치에 대해 검증해야 함
2. 제거 테스트를 통과해야 함
3. 단순하게 구현 가능해야 함
4. 명확한 성공 지표가 있어야 함
5. 자동화 잠재력을 지원해야 함

---

*이 헌법은 모든 SnapRace 개발 결정의 기초로 사용됩니다. 정기적으로 참조되어야 하며, 학습하고 발전함에 따라 업데이트되어야 합니다.*